(function(e){function t(t){for(var a,n,o=t[0],s=t[1],c=t[2],u=0,f=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&f.push(i[n][0]),i[n]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(f.length)f.shift()();return l.push.apply(l,c||[]),r()}function r(){for(var e,t=0;t<l.length;t++){for(var r=l[t],a=!0,o=1;o<r.length;o++){var s=r[o];0!==i[s]&&(a=!1)}a&&(l.splice(t--,1),e=n(n.s=r[0]))}return e}var a={},i={app:0},l=[];function n(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/pizzeria-menager/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=s;l.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("link",{attrs:{href:"https://use.fontawesome.com/releases/v5.0.13/css/all.css",rel:"stylesheet"}}),r("v-app",[r("v-card",[r("v-toolbar",{attrs:{flat:"",color:"primary",dark:""}},[r("v-toolbar-title",[e._v("Restaurant Menagment App")])],1),r("v-tabs",{attrs:{vertical:""}},[r("v-tab",[e._v(" Add Waiters ")]),r("v-tab",[e._v(" Add Tables ")]),r("v-tab",[e._v(" Add Orders ")]),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("v-container",{attrs:{"grid-list-xs":""}},[r("div",{staticClass:"d-flex"},[r("v-text-field",{attrs:{label:"Add a waiter"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addWaiter(t)}},model:{value:e.waiter,callback:function(t){e.waiter=t},expression:"waiter"}}),r("v-btn",{attrs:{disabled:!e.waiter,color:"success"},on:{click:e.addWaiter}},[e._v("Add Waiter")])],1),r("v-snackbar",{attrs:{right:!0,top:!0,color:"error"},model:{value:e.infoMsg,callback:function(t){e.infoMsg=t},expression:"infoMsg"}},[e._v(" Please enter a Task ")]),r("v-card",{attrs:{elevation:"10"}},[r("v-card-title",{class:"d-flex justify-space-between",attrs:{color:"primary"}},[r("label",{staticClass:"blue--text"},[e._v("Waiters: "+e._s(e.waiters.length))])]),r("v-divider"),r("v-list",e._l(e.waiters,(function(t){return r("v-list-item",{key:t.id},[r("v-list-item-content",{staticClass:"pl-3"},[r("v-list-item-action",[e._v(" "+e._s(t.id)+" ")])],1),r("v-list-item-icon",[t.isTaken?r("p",[r("i",{staticClass:"fas fa-ban"}),e._v(" Can't delte this waiter -> currently taken")]):r("v-icon",{attrs:{color:"red"},on:{click:function(r){return e.deleteWaiter(t)}}},[e._v("delete")])],1)],1)})),1)],1)],1)],1)],1),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("v-card",{attrs:{flat:""}},[r("v-container",{attrs:{"grid-list-xs":""}},[r("div",{staticClass:"d-flex"},[r("v-text-field",{attrs:{label:"Add a table"},model:{value:e.table,callback:function(t){e.table=t},expression:"table"}}),r("v-text-field",{attrs:{label:"Add table Y coords",counter:"3",maxlength:"3",hint:"This field requires max 999 value",type:"number",prefix:"Y",required:""},model:{value:e.tableY,callback:function(t){e.tableY=t},expression:"tableY"}}),r("v-text-field",{attrs:{label:"Add table X coords",counter:"3",maxlength:"3",prefix:"X",type:"number",hint:"This field requires max 999 value"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTable(t)}},model:{value:e.tableX,callback:function(t){e.tableX=t},expression:"tableX"}}),r("v-btn",{attrs:{disabled:!e.tableX,color:"success"},on:{click:e.addTable}},[e._v("Add Table")])],1)])],1)],1)],1),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("v-card",{attrs:{flat:""}},[r("v-container",{attrs:{"grid-list-xs":""}},[r("div",[r("v-text-field",{attrs:{label:"Name (anything)"},model:{value:e.orderName,callback:function(t){e.orderName=t},expression:"orderName"}}),r("v-text-field",{attrs:{label:"Order here:",placeholder:"2x Margharitta, 3x Coca-Cola, Water"},model:{value:e.orderContent,callback:function(t){e.orderContent=t},expression:"orderContent"}}),r("v-select",{attrs:{items:e.freeWaiters,"item-text":"id",label:"Select a waiter"},model:{value:e.orderWaiter,callback:function(t){e.orderWaiter=t},expression:"orderWaiter"}}),r("v-select",{attrs:{items:e.freeTables,"item-text":"id",label:"Select a table"},model:{value:e.orderTable,callback:function(t){e.orderTable=t},expression:"orderTable"}}),r("v-btn",{attrs:{disabled:!e.orderName,color:"success"},on:{click:function(t){return e.addOrder(e.orderTable,e.orderWaiter)}}},[e._v("Add Order")]),r("v-list",e._l(e.orders,(function(t){return r("v-list-item",{key:t.id},[r("v-list-item-content",{staticClass:"pl-3"},[r("v-list-item-action",[e._v(" "+e._s(t.orderName)+" table : "+e._s(t.orderTable)+" waiter : "+e._s(t.orderWaiter)+" ")])],1),r("v-list-item-icon",[r("v-icon",{attrs:{color:"red"},on:{click:function(r){return e.deleteOrder(t)}}},[e._v("delete")])],1)],1)})),1)],1)])],1)],1)],1)],1)],1),r("h2",{staticStyle:{"text-align":"center"}},[e._v("Restaurant view")]),r("v-alert",{staticClass:"alert",attrs:{value:e.alert,type:"success"}},[e._v("TABLE POSITION CHANGED SUCCESFULLY")]),r("div",{staticClass:"res-view"},[r("div",{staticClass:"tables"},[r("div",{staticStyle:{height:"1200px",width:"1400px",border:"1px solid red",position:"relative"}},[e._l(e.tables,(function(t){return r("vue-draggable-resizable",{key:t.id,staticClass:"table",attrs:{onDragStart:e.onDragStartCallback,"drag-handle":".drag",x:t.tableX,y:t.tableY,resizable:!1,parent:!0},on:{dragging:e.onDrag}},[r("div",{staticClass:"drag",staticStyle:{display:"flex"}},[e._v("DRAG ME "),r("v-btn",{staticClass:"success btn-notShow ",staticStyle:{width:"100px"},attrs:{elevation:"2"},on:{click:function(r){return e.setNewPos(t,r)}}})],1),r("h2",[e._v("Stolik : "+e._s(t.table))]),t.isTaken?e._e():r("v-icon",{attrs:{color:"red"},on:{click:function(r){return e.deleteTable(t)}}},[e._v("delete")]),t.isTaken?r("p",[r("i",{staticClass:"fas fa-exclamation-triangle",staticStyle:{"font-size":"25px",color:"red"}}),e._v(" This table is currenlty served by "+e._s(t.servedBy)+" ")]):e._e()],1)})),r("v-card",{attrs:{elevation:"2"}})],2)])])],1)],1)},l=[],n=(r("4de4"),r("8aa5")),o=r.n(n),s=o.a.initializeApp({apiKey:"AIzaSyDMVPb1DpvS74YFExQXLMGcmW0gCaogNcw",authDomain:"restaurant-menager-dfc51.firebaseapp.com",projectId:"restaurant-menager-dfc51",storageBucket:"restaurant-menager-dfc51.appspot.com",messagingSenderId:"948761289474",appId:"1:948761289474:web:5afef6027508388718181b"}),c=s.firestore(),d=c,u={name:"App",components:{},data:function(){return{waiter:"",waiters:[],infoMsg:!1,table:"",tableX:"",tableY:"",tables:[],top:"100px",isDragging:!1,posChanged:!1,x:0,y:0,alert:!1,order:"",orders:[],orderName:"",orderContent:"",orderWaiter:"",orderTable:"",freeTables:[],freeWaiters:[],servedBy:"",takeTime:""}},computed:{tasksDone:function(){return this.waiters.filter((function(e){return e.isDone})).length},progress:function(){return this.tasksDone/this.waiters.length*100}},methods:{onDrag:function(e,t){this.x=e,this.y=t},onDragStartCallback:function(e){var t=e.target,r=t.querySelector("button");r.innerHTML="Set new",r.style.display="block"},setNewPos:function(e,t){var r=this;if(e){d.collection("tables").doc(e.id).update({tableY:this.y,tableX:this.x,createdAt:o.a.firestore.FieldValue.serverTimestamp()});var a=t.target;a.style.display="none",this.alert=!0,window.setInterval((function(){r.alert=!1}),3e3)}},addWaiter:function(){this.waiter?(d.collection("waiters").add({todo:this.waiter,isTaken:!1,createdAt:o.a.firestore.FieldValue.serverTimestamp()}).catch((function(e){console.error("Error adding collection: ",e)})),this.waiter=""):this.infoMsg=!0},deleteWaiter:function(e){d.collection("waiters").doc(e.id).delete()},deleteOrder:function(e){d.collection("waiters").doc(e.orderWaiter).update({isTaken:!1}),d.collection("tables").doc(e.orderTable).update({isTaken:!1,orderID:""}),d.collection("orders").doc(e.id).delete()},deleteTable:function(e){d.collection("tables").doc(e.id).delete()},addTable:function(){this.table?(d.collection("tables").add({table:this.table,tableX:parseInt(this.tableX),tableY:parseInt(this.tableY),isTaken:!1,createdAt:o.a.firestore.FieldValue.serverTimestamp()}).catch((function(e){console.error("Error adding collection: ",e)})),this.table="",this.tableX="",this.tableY=""):this.infoMsg=!0},addOrder:function(e,t){d.collection("orders").add({orderName:this.orderName,orderContent:this.orderContent,orderWaiter:this.orderWaiter,orderTable:this.orderTable,createdAt:o.a.firestore.FieldValue.serverTimestamp()}).then((function(t){d.collection("tables").doc(e).update({orderID:t.id})})).catch((function(e){console.error("Error adding collection: ",e)})),this.waiter="",d.collection("tables").doc(e).update({isTaken:!0,servedBy:t,takeTime:o.a.firestore.FieldValue.serverTimestamp()}),d.collection("waiters").doc(t).update({isTaken:!0})}},firestore:{waiters:d.collection("waiters").orderBy("createdAt"),tables:d.collection("tables").orderBy("createdAt"),orders:d.collection("orders").orderBy("createdAt"),freeTables:d.collection("tables").where("isTaken","==",!1),freeWaiters:d.collection("waiters").where("isTaken","==",!1)}},f=u,b=(r("e4cd"),r("2877")),v=Object(b["a"])(f,i,l,!1,null,"4b9b6b0c",null),p=v.exports,m=r("ce5b"),h=r.n(m);r("bf40"),r("d1e78");a["default"].use(h.a);var g={icons:{iconfont:"md"}},y=new h.a(g),k=r("0ff2"),w=r("1051"),x=r.n(w),T=r("fb19"),_=r.n(T);r("278f");a["default"].component("vue-draggable-resizable",_.a),a["default"].use(x.a),a["default"].config.productionTip=!1,a["default"].use(k["a"]),new a["default"]({vuetify:y,render:function(e){return e(p)}}).$mount("#app")},e4cd:function(e,t,r){"use strict";var a=r("e581"),i=r.n(a);i.a},e581:function(e,t,r){}});
//# sourceMappingURL=app.c8c60071.js.map